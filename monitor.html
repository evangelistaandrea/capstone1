<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Monitoring | PHINMA UPang</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --school-green: #1b4332; --school-gold: #f1c40f; --paper-white: #ffffff; --border-ink: #e2e8f0; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: #f2f4f7; padding: 30px; color: var(--school-green); }

        .header {
            display: flex; justify-content: space-between; align-items: center;
            background: var(--paper-white); padding: 20px 30px; border-radius: 15px;
            border-bottom: 5px solid var(--school-gold); margin-bottom: 25px;
        }

        .main-layout { display: grid; grid-template-columns: 350px 1fr; gap: 25px; }
        .panel { background: var(--paper-white); border-radius: 20px; padding: 30px; border: 1px solid var(--border-ink); }
        
        .occupancy-hero {
            background: var(--school-green); color: white; padding: 45px; border-radius: 15px;
            display: flex; justify-content: space-between; align-items: center; position: relative; overflow: hidden;
        }

        .sensor-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 20px; }
        .sensor-card { background: #fff; border: 2px solid #f1f5f9; border-radius: 15px; padding: 30px; text-align: center; transition: 0.2s; }
        .sensor-card:hover { border-color: var(--school-gold); }

        .s-val { font-size: 2.5rem; font-weight: 900; color: var(--school-green); }
        .schedule-item { margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px dashed #cbd5e1; }
        .label { font-size: 0.75rem; font-weight: 700; color: #94a3b8; text-transform: uppercase; }
        .data { font-size: 1.1rem; font-weight: 800; color: var(--school-green); }
    </style>
</head>
<body>

    <header class="header">
        <div style="display: flex; align-items: center; gap: 15px;">
            <img src="logo.png" height="60">
            <div>
                <h1 id="display-room" style="font-size: 1.8rem; font-weight: 900;">ROOM ---</h1>
                <p id="display-bldg" style="font-size: 0.8rem; font-weight: 600; color: #64748b;"></p>
            </div>
        </div>
        <div style="text-align: right;">
            <div id="clock" style="font-weight: 900; font-size: 1.4rem;">00:00:00</div>
            <button onclick="window.location.href='hub.html'" style="border:none; background:none; color:var(--school-green); font-weight:bold; cursor:pointer;">EXIT DASHBOARD</button>
        </div>
    </header>

    <div class="main-layout">
        <div class="panel">
            <h2 style="font-size: 0.85rem; margin-bottom: 20px; color: #64748b; border-bottom: 2px solid var(--school-gold); padding-bottom: 10px;">SESSION DETAILS</h2>
            <div class="schedule-item"><div class="label">Course</div><div class="data" id="out-course">---</div></div>
            <div class="schedule-item"><div class="label">Faculty</div><div class="data" id="out-faculty">---</div></div>
            <div class="schedule-item"><div class="label">Schedule</div><div class="data" id="out-time">---</div></div>
            <div class="status-active" style="background:#dcfce7; color:#166534; padding:10px; border-radius:10px; font-weight:800; text-align:center;">
                <i class="fas fa-link"></i> ESP32 CONNECTED
            </div>
        </div>

        <div>
            <div class="occupancy-hero">
                <div>
                    <div style="font-size: 0.8rem; opacity: 0.7;">REAL-TIME OCCUPANCY</div>
                    <div style="font-size: 5rem; font-weight: 900;">35 <small style="font-size: 1.8rem; opacity: 0.5;">/ 40</small></div>
                    <div style="background: var(--school-gold); color: var(--school-green); padding: 5px 15px; border-radius: 8px; font-weight: 900; font-size: 0.8rem; margin-top: 10px;">NEAR CAPACITY</div>
                </div>
                <i class="fas fa-user-graduate fa-5x" style="opacity: 0.2;"></i>
            </div>

            <div class="sensor-grid">
                <div class="sensor-card"><div class="s-val">24.5Â°C</div><div style="color:#64748b; font-weight:600;">Temperature</div></div>
                <div class="sensor-card"><div class="s-val">58%</div><div style="color:#64748b; font-weight:600;">Humidity</div></div>
                <div class="sensor-card"><div class="s-val">92 AQI</div><div style="color:#64748b; font-weight:600;">Air Quality</div></div>
                <div class="sensor-card"><div class="s-val">450 Lx</div><div style="color:#64748b; font-weight:600;">Light Level</div></div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('display-room').innerText = localStorage.getItem('room');
        document.getElementById('display-bldg').innerText = localStorage.getItem('building');
        document.getElementById('out-faculty').innerText = localStorage.getItem('faculty');
        document.getElementById('out-course').innerText = localStorage.getItem('course');
        document.getElementById('out-time').innerText = localStorage.getItem('time');

        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
        }, 1000);
    </script>
</body>
</html>